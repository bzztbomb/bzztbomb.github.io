<head>
  <title>ChurchOfRobotron</title>
  <link rel="stylesheet" href="/css/archive.css">
</head>

<body>
  <div id="db-header"></div>
  <h1 class="db-page-header">ChurchOfRobotron</h1>
  <h2 class="db-page-header">By: karl</h2>
  <h3 class="db-page-header">2012-06-12 11:41:58</h3>

  <div id="db-content">
    <p>Toorcamp 2012 installation.</p><p><a href="/wiki/robotronmeetingjun11" title="RobotronMeetingJun11 (page does not exist)">RobotronMeetingJun11</a></p><p><a href="/wiki/robotronmeetingjun25" title="RobotronMeetingJun25 (page does not exist)">RobotronMeetingJun25</a></p><p><a href="/wiki/robotroncomponents" title="RobotronComponents (page does not exist)">RobotronComponents</a></p><h2>Technical Notes</h2><h3><span class="mw-headline" id="MAME.2FRobotron">MAME/Robotron</span></h3><p>Some notes originally from here:<br><a class="external free" href="http://seanriddle.com/robob.dat" rel="nofollow">http://seanriddle.com/robob.dat</a><br>are over here:<br><a class="external free" href="http://pastebin.com/7dhftVgF" rel="nofollow">http://pastebin.com/7dhftVgF</a></p><p>The interesting/different parts:</p><ul><li>label 983F jjp - holds current player number (1 or 2)</li><li>label 9848 jjp - turns to a 1 immediately upon death, back to 0 during regular gameplay</li><li>program counter 310d btr - This is hit on every player death</li><li>program counter 3112 btr - This is hit on game end</li><li>program counter 3130 btr - This is hit on a player death that is not the game over death</li><li>program counter 6f15&amp;e868 -- Crappy notifications that a new highscore has been entered. The highscores are stored in NVRAM which is CC00-CFFF. All-time scores start around CC90, and current heros start around CDB0. A copy of nvram is written to disk in the nvram folder. But it's not written until you shut mame down. It's stored as 4 bit nibbles, so you decode like this: ((addr &amp; 0xFF) &lt;&lt; 4) + ((addr+1) &amp; 0xFF). Undecoded storage of a high score is 3 bytes for initials followed by 4 bytes for the score. The upper 4 nibbles of the first byte appear to be a checksum?</li></ul><p>For the program counter values, you can start mame in debug mode with "mame --debug" and enter the following lines in the console:</p><ul><li>bp 310d,1,{printf "Player death\n"; g}</li><li>bp 3112,1,{printf "Game over\n"; g}</li><li>bp 3130,1,{printf "Still trying\n"; g}</li></ul><p>This will print out events to the debug console, we can also print these out to a tracefile and grep against that with other scripts.</p>
  </div>

  <div id="db-back-to-index">
    <a href="/archive/index.html">Back to archive index</a>
  </div>
</body>
